# Fix 404 on Vercel – do these in order

## 1. Push the latest code (so Vercel gets the fix)

Your project now has:
- **public/404.html** – fallback so 404s redirect to the app
- **vercel.json** – rewrites so the SPA loads; static files (e.g. `/assets/`) are not rewritten

**If you use GitHub:** push these changes so Vercel can redeploy with them.

In Cursor terminal (⌘ + `):

```bash
cd "/Users/joeydias/Desktop/Cursor Project 1/football-trivia"
git add public/404.html vercel.json FIX_404.md
git commit -m "Fix 404 for Vercel SPA"
git push
```

(If you don’t use git, re-upload the **football-trivia** folder to GitHub, including the new **public** folder and updated **vercel.json**.)

---

## 2. Vercel: Build settings (must match)

In Vercel: your project → **Settings** → **Build and Deployment**.

| Setting | Must be |
|--------|---------|
| **Framework Preset** | Vite (or leave as detected) |
| **Build Command** | `npm run build` (or leave default) |
| **Output Directory** | `dist` |
| **Root Directory** | **Leave empty** if `package.json` is at the **repo root**. Set to the folder name (e.g. `football-trivia`) **only** if `package.json` is inside that folder in the repo. |

**Root Directory rule:**  
- On GitHub, when you open the repo, do you see **package.json** at the **top level**? → Root Directory = **empty**.  
- Do you see **one folder** (e.g. football-trivia) and **package.json** inside it? → Root Directory = **football-trivia**.

Save if you changed anything.

---

## 3. Redeploy

- Go to **Deployments**.
- Click **⋯** on the latest deployment → **Redeploy** (use “Use existing Build Cache” or not, then confirm).

Wait until the deployment is **Ready**, then click **Visit**.

---

## 4. If it’s still 404

**Check the build:**

- **Deployments** → click the latest deployment → **Building** / **Logs**.
- Confirm the build **succeeded** (no red errors).
- If the build **failed**, fix the error shown in the logs (e.g. missing env vars, wrong Node version).

**Check the URL:**

- Use the **production** URL from the Vercel dashboard (e.g. `https://your-project.vercel.app`), not a preview or old link.

**Still 404?**

- In **Settings** → **Environment Variables**, confirm **VITE_SUPABASE_URL** and **VITE_SUPABASE_ANON_KEY** are set for **Production**.
- Redeploy again after changing settings.
